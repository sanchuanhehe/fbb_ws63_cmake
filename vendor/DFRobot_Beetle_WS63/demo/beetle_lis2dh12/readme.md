# beetle_lis2dh12

## 一、介绍

dfrobot_lis2dh12是一个高性能的三轴加速度计传感器驱动库，基于 STMicroelectronics 的 LIS2DH12 传感器芯片开发。该库提供了完整的传感器控制接口，支持 I2C 通信协议，能够精确测量三个方向的加速度值，并具备丰富的中断功能。

详见：[[dfrobot_lis2dh12] readme.md](./dfrobot_lis2dh12/readme.md)

## 二、加速度检测示例(get_acceleration_sample)

### 1、介绍

本例程演示了一个基于LIS2DH12三轴加速度传感器的数据采集任务。程序首先通过I2C接口初始化传感器，支持设置±2g至±16g多种量程和1Hz至400Hz可调采样率，默认配置为±16g量程和10Hz采样速率。初始化成功后，程序进入循环采集状态，每300毫秒读取一次XYZ三个方向的加速度数值，并以毫重力加速度（mg）为单位通过串口打印输出，实时显示传感器的运动状态数据。该例程适用于运动检测、姿态识别和振动监测等嵌入式应用场景。

### 2、实验流程

- 执行Clean命令清理资源
- 打开KConfig，选择获取加速度示例，并配置I2C相关引脚参数：

![img](.\images\lis_img1.png)

- 编译、烧录后，挥动传感器观察加速度参数打印是否正常：

![img](.\images\lis_img2.png)

## 三、中断检测示例(interrupt_sample)

### 1、介绍

本例程演示了基于LIS2DH12加速度传感器的中断检测功能。程序通过配置中断引脚和阈值，实现了当Z轴加速度超过设定值（6g）时自动触发中断的机制。系统初始化后持续监测三轴加速度数据，并在检测到中断事件时立即输出"Z轴加速度超过阈值"的警告信息，实现了硬件级别的实时事件响应，适用于需要快速响应特定运动状态的应用场景如掉落检测、碰撞检测等等。

### 2、实验流程

- 执行Clean命令清理资源
- 打开KConfig，选择掉落检测interrupt示例，并配置I2C相关引脚参数，注意需要配置中断引脚：

![img](.\images\lis_img3.png)

- 将传感器模块的INT1脚连接到选择的中断引脚
- 编译、烧录后观察加速度参数打印是否正常，触发掉落检测，观察是否有相关中断打印：

![img](.\images\lis_img4.png)
